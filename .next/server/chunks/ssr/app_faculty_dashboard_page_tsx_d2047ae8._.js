module.exports=[77477,a=>{"use strict";var b=a.i(87924),c=a.i(72131);function d(){let[a,d]=(0,c.useState)({totalStudents:0,enrolledToday:0,totalQuizResults:0,completionRate:0,recentActivities:[]}),[e,f]=(0,c.useState)(""),[g,h]=(0,c.useState)(0);(0,c.useEffect)(()=>{let a=async()=>{let a=localStorage.getItem("faculty_session"),b=a?JSON.parse(a):null;if(b){let a=await fetch(`/api/faculty/stats?facultyId=${b.id}`),c=await a.json();a.ok&&(d(c),h(Math.min(Math.round(c.globalLiveParticipants/100*100),100)),f((a=>{let b=new Date,c=new Date;if("Opening Soon"===a){c.setHours(8,0,0,0);let a=c.getTime()-b.getTime(),d=Math.floor(a/36e5),e=Math.floor(a/6e4%60);return`starts in ${d}h ${e}m`}if("Live"===a){c.setHours(20,0,0,0);let a=c.getTime()-b.getTime(),d=Math.floor(a/36e5),e=Math.floor(a/6e4%60);return`ends in ${d}h ${e}m`}{c.setDate(c.getDate()+1),c.setHours(8,0,0,0);let a=c.getTime()-b.getTime(),d=Math.floor(a/36e5),e=Math.floor(a/6e4%60);return`tomorrow in ${d}h ${e}m`}})(c.examStatus)))}};a();let b=setInterval(a,3e4);return()=>clearInterval(b)},[]);let i=[{name:"Total Students",value:a.totalStudents,icon:"ðŸ‘¥",change:"Live",color:"text-blue-600 bg-blue-50"},{name:"Enrolled Today",value:a.enrolledToday,icon:"ðŸ“",change:"Daily",color:"text-green-600 bg-green-50"},{name:"Quiz Completion",value:`${a.completionRate}%`,icon:"âœ…",change:"Total",color:"text-purple-600 bg-purple-50"},{name:"Daily Top 100",value:"Closed"===a.examStatus?"Calculating...":"Active",icon:"ðŸ†",change:"Live"===a.examStatus?"Closes 8PM":"8:00 PM",color:"text-amber-600 bg-amber-50"}];return(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:i.map(a=>(0,b.jsxs)("div",{className:"p-6 bg-white rounded-3xl border border-slate-100 shadow-sm hover:shadow-md transition-shadow",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center text-2xl ${a.color}`,children:a.icon}),(0,b.jsx)("span",{className:`text-xs font-bold px-2 py-1 rounded-full ${"Daily Top 100"===a.name?"bg-amber-100 text-amber-700":"bg-green-100 text-green-700"}`,children:a.change})]}),(0,b.jsx)("h3",{className:"text-slate-500 text-sm font-semibold uppercase tracking-wider",children:a.name}),(0,b.jsx)("p",{className:"text-3xl font-extrabold text-slate-900 mt-1",children:a.value})]},a.name))}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,b.jsxs)("div",{className:"bg-white p-8 rounded-3xl border border-slate-100 shadow-sm",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-slate-900 mb-6",children:"Recent Activity"}),(0,b.jsx)("div",{className:"space-y-6",children:a.recentActivities?.length>0?a.recentActivities.map((a,c)=>{var d;let e,f,g,h,i;return(0,b.jsxs)("div",{className:"flex gap-4 items-start pb-6 border-b border-slate-50 last:border-0 last:pb-0",children:[(0,b.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold ${"registration"===a.type?"bg-blue-50 text-blue-500":"bg-green-50 text-green-500"}`,children:"registration"===a.type?"ðŸ‘¤":"ðŸŽ¯"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-bold text-slate-800",children:a.title}),(0,b.jsxs)("p",{className:"text-xs text-slate-500 mt-1",children:[(d=a.date,e=new Date,f=new Date(d),i=Math.floor((h=Math.floor((g=Math.floor((e.getTime()-f.getTime())/6e4))/60))/24),g<1?"Just now":g<60?`${g}m ago`:h<24?`${h}h ago`:`${i}d ago`)," â€¢ ",a.subtitle]})]})]},c)}):(0,b.jsx)("div",{className:"text-center py-10",children:(0,b.jsx)("p",{className:"text-slate-400 text-sm italic",children:"No recent activity found."})})})]}),(0,b.jsxs)("div",{className:"bg-blue-900 text-white p-8 rounded-3xl shadow-xl border border-blue-800 overflow-hidden relative",children:[(0,b.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:(0,b.jsx)("div",{className:"text-9xl font-black rotate-12",children:"8:30"})}),(0,b.jsx)("h3",{className:"text-xl font-bold mb-2",children:"Daily Live Quiz Pulse"}),(0,b.jsxs)("p",{className:"text-blue-200 text-sm mb-8",children:["Live"===a.examStatus?"The exam is currently LIVE.":"Opening Soon"===a.examStatus?"The exam window opens soon.":"The exam window is now closed."," Next session ",e,"."]}),(0,b.jsxs)("div",{className:"space-y-4 relative z-10",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,b.jsx)("span",{className:"text-blue-300",children:"Live Participants"}),(0,b.jsx)("span",{className:"font-bold",children:a.globalLiveParticipants||0})]}),(0,b.jsx)("div",{className:"w-full h-2 bg-blue-800 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-yellow-400 transition-all duration-1000",style:{width:`${g}%`}})}),(0,b.jsx)("p",{className:"text-xs text-blue-300 italic",children:"Tracking real-time student activity"})]})]})]})]})}a.s(["default",()=>d])}];

//# sourceMappingURL=app_faculty_dashboard_page_tsx_d2047ae8._.js.map