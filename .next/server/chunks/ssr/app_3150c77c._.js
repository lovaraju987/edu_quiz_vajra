module.exports=[62641,a=>{"use strict";a.s(["MENU_ITEMS",0,[{href:"/private-schools-play",label:"Private schools (Play)"},{href:"/private-schools-daycare",label:"Private schools (Day care)"},{href:"/private-schools-kinder",label:"Private schools (Kinder Garden)"},{href:"/private-schools-primary",label:"Private schools (Primary)"},{href:"/private-schools-secondary",label:"Private schools (Secondary)"},{href:"/tuition-centers",label:"Tuition Centers"},{href:"/home-tutors",label:"Home Tutions (tutors)"},{href:"/online-tutors",label:"Online Tutors"},{href:"/child-psychologist",label:"Child Psychologist"},{href:"/pediatric-doctors",label:"Pediatric Doctors & Hospitals"},{href:"/book-publishers",label:"Book Publishers"},{href:"/book-stalls",label:"Book Stalls"},{href:"/electronic-gadgets",label:"Electronic Gadgets (Stud)"},{href:"/sports-fitness",label:"Sports & Fitness centers"},{href:"/music-dance",label:"Music & Dance schools"}]])},44587,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(23292),f=a.i(62641);function g(){let[a,g]=(0,c.useState)([]),[h,i]=(0,c.useState)(!0),[j,k]=(0,c.useState)("");(0,c.useEffect)(()=>{l()},[j]);let l=async()=>{try{i(!0);let a=j?`/api/schools?category=${j}`:"/api/schools",b=await fetch(a),c=await b.json();c.success?g(c.data):e.toast.error(c.error||"Failed to fetch schools")}catch(a){e.toast.error("An error occurred while fetching schools")}finally{i(!1)}},m=async a=>{if(confirm("Are you sure you want to delete this school?"))try{let b=await fetch(`/api/schools/${a}`,{method:"DELETE"}),c=await b.json();c.success?(e.toast.success("School deleted successfully"),l()):e.toast.error(c.error||"Failed to delete school")}catch(a){e.toast.error("An error occurred while deleting")}};return(0,b.jsxs)("div",{className:"p-8",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Educational Directory"}),(0,b.jsx)(d.default,{href:"/admin/directory/new",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition",children:"Add Institution"})]}),(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsxs)("select",{value:j,onChange:a=>k(a.target.value),className:"p-2 border rounded-lg w-full max-w-md",children:[(0,b.jsx)("option",{value:"",children:"All Categories"}),f.MENU_ITEMS.map(a=>(0,b.jsx)("option",{value:a.href.replace("/",""),children:a.label},a.href))]})}),h?(0,b.jsx)("div",{className:"text-center py-10",children:"Loading..."}):(0,b.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"min-w-full divide-y divide-slate-200",children:[(0,b.jsx)("thead",{className:"bg-slate-50",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Name & Principal"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Category"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Contact Details"}),(0,b.jsx)("th",{className:"px-6 py-4 text-right text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),(0,b.jsxs)("tbody",{className:"bg-white divide-y divide-slate-200",children:[a.map(a=>{let c=f.MENU_ITEMS.find(b=>b.href==="/"+a.category||b.href===a.category)?.label||a.category;return(0,b.jsxs)("tr",{className:"hover:bg-slate-50 transition-colors",children:[(0,b.jsxs)("td",{className:"px-6 py-4",children:[(0,b.jsx)("div",{className:"text-sm font-bold text-slate-900",children:a.name}),(0,b.jsx)("div",{className:"text-sm text-slate-500 mt-0.5",children:a.principalName})]}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsx)("span",{className:"px-2.5 py-1 inline-flex text-xs leading-5 font-bold rounded-full bg-blue-100 text-blue-700",children:c})}),(0,b.jsxs)("td",{className:"px-6 py-4",children:[(0,b.jsx)("div",{className:"text-sm text-slate-900 font-medium",children:a.phone}),(0,b.jsx)("div",{className:"text-sm text-slate-500 mt-0.5 min-w-[200px] max-w-xs whitespace-normal sm:whitespace-pre-wrap",children:a.address})]}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,b.jsx)("button",{onClick:()=>m(a._id),className:"text-red-500 hover:text-red-700 bg-red-50 hover:bg-red-100 px-3 py-1.5 rounded-lg transition-colors text-xs font-bold uppercase tracking-wide",children:"Delete"})})]},a._id)}),0===a.length&&(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:4,className:"px-6 py-10 text-center text-slate-500",children:"No institutions found. Seed data or add a new one."})})]})]})})})]})}a.s(["default",()=>g])}];

//# sourceMappingURL=app_3150c77c._.js.map