module.exports=[91798,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(23292);function e(){let[a,e]=(0,c.useState)("none"),[f,g]=(0,c.useState)(0),[h,i]=(0,c.useState)(""),[j,k]=(0,c.useState)([]),[l,m]=(0,c.useState)([]),[n,o]=(0,c.useState)(!1),p=["Level 1 (4th-6th)","Level 2 (7th-8th)","Level 3 (9th-10th)"],q=async a=>{o(!0),g(a+1),i("Today's Active Quiz"),e("questions");try{let b=await fetch(`/api/admin/quiz/current?level=${a+1}`),c=await b.json();b.ok?k(c.questions):d.toast.error("Failed to load questions")}catch(a){d.toast.error("Error connecting to server")}finally{o(!1)}},r=async a=>{o(!0),g(a+1),e("history");try{let b=await fetch(`/api/admin/quiz/history?level=${a+1}`),c=await b.json();b.ok?m(c.history):d.toast.error("Failed to load history")}catch(a){d.toast.error("Error connecting to server")}finally{o(!1)}},s=async a=>{o(!0),i(a),e("questions");try{let b=await fetch(`/api/admin/quiz/history?level=${f}&date=${a}`),c=await b.json();b.ok?k(c.questions):d.toast.error("Failed to load past quiz")}catch(a){d.toast.error("Error connecting to server")}finally{o(!1)}},t=()=>{e("none"),k([]),m([])};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-slate-900",children:"Quiz Management"}),(0,b.jsx)("button",{className:"px-5 py-2.5 bg-blue-600 text-white font-bold rounded-xl shadow-lg shadow-blue-200 hover:bg-blue-700 transition-all",children:"âœ¨ Generate New Quiz (AI)"})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:p.map((a,c)=>(0,b.jsxs)("div",{className:"bg-white border border-slate-200 rounded-2xl p-6 shadow-sm hover:shadow-md transition-shadow",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-slate-800",children:a}),(0,b.jsx)("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded text-xs font-bold",children:"Today's Quiz Active"})]}),(0,b.jsx)("p",{className:"text-slate-500 text-sm mb-6",children:"Topic: General Science"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-slate-500",children:"Total Questions"}),(0,b.jsx)("span",{className:"font-bold",children:"25"})]}),(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-slate-500",children:"Participants"}),(0,b.jsx)("span",{className:"font-bold",children:"--"})]})]}),(0,b.jsxs)("div",{className:"mt-6 pt-4 border-t border-slate-100 flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>q(c),className:"flex-1 py-2 text-blue-600 font-bold bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors text-sm",children:"View Questions"}),(0,b.jsx)("button",{onClick:()=>r(c),className:"flex-1 py-2 text-slate-600 font-bold bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors text-sm",children:"History"})]})]},c))}),(0,b.jsxs)("div",{className:"bg-blue-50 border border-blue-100 rounded-xl p-6 flex items-center gap-4",children:[(0,b.jsx)("div",{className:"text-3xl",children:"ðŸ¤–"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-bold text-blue-900",children:"AI Auto-Scheduler Active"}),(0,b.jsx)("p",{className:"text-blue-700 text-sm",children:"Next batch of quizzes will be generated automatically at 00:00 AM."})]})]}),"questions"===a&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-3xl max-h-[90vh] shadow-2xl overflow-hidden flex flex-col animate-in fade-in zoom-in duration-200",children:[(0,b.jsxs)("div",{className:"bg-slate-50 px-6 py-4 border-b border-slate-200 flex justify-between items-center shrink-0",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-bold text-xl text-slate-900",children:"Quiz Content"}),(0,b.jsxs)("p",{className:"text-sm text-slate-500 font-medium",children:[p[f-1]," â€¢ ",h]})]}),(0,b.jsx)("button",{onClick:t,className:"text-slate-400 hover:text-slate-600 hover:bg-slate-200 p-2 rounded-lg transition-colors",children:(0,b.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,b.jsx)("div",{className:"overflow-y-auto p-6 space-y-6",children:n?(0,b.jsx)("div",{className:"py-20 text-center text-slate-500 animate-pulse",children:"Loading questions..."}):0===j.length?(0,b.jsx)("div",{className:"py-20 text-center text-slate-500 bg-slate-50 rounded-xl border border-dashed border-slate-300",children:"No questions found for this quiz."}):j.map((a,c)=>(0,b.jsxs)("div",{className:"bg-white border border-slate-200 rounded-xl p-5 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex gap-3 mb-3",children:[(0,b.jsx)("span",{className:"bg-blue-100 text-blue-700 w-8 h-8 flex items-center justify-center rounded-lg font-bold shrink-0 text-sm",children:c+1}),(0,b.jsx)("h4",{className:"font-bold text-slate-800 text-lg leading-tight pt-0.5",children:a.text})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 pl-11",children:a.options.map((c,d)=>(0,b.jsxs)("div",{className:`px-4 py-3 rounded-lg text-sm font-medium border transition-colors flex items-center justify-between
                                                        ${d===a.answerIndex?"bg-green-50 border-green-200 text-green-800":"bg-slate-50 border-slate-100 text-slate-600"}`,children:[c,d===a.answerIndex&&(0,b.jsx)("span",{className:"text-green-600",children:"âœ“"})]},d))}),(0,b.jsxs)("div",{className:"pl-11 mt-2 text-xs text-slate-400 font-medium uppercase tracking-wide",children:["Category: ",a.category]})]},a._id))})]})}),"history"===a&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-lg max-h-[80vh] shadow-2xl overflow-hidden flex flex-col animate-in fade-in zoom-in duration-200",children:[(0,b.jsxs)("div",{className:"bg-slate-50 px-6 py-4 border-b border-slate-200 flex justify-between items-center shrink-0",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-bold text-xl text-slate-900",children:"Quiz History"}),(0,b.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:p[f-1]})]}),(0,b.jsx)("button",{onClick:t,className:"text-slate-400 hover:text-slate-600 hover:bg-slate-200 p-2 rounded-lg transition-colors",children:(0,b.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,b.jsx)("div",{className:"overflow-y-auto p-4",children:n?(0,b.jsx)("div",{className:"py-12 text-center text-slate-500 animate-pulse",children:"Loading history..."}):0===l.length?(0,b.jsx)("div",{className:"py-12 text-center text-slate-500 bg-slate-50 rounded-xl border border-dashed border-slate-300",children:"No history available."}):(0,b.jsx)("div",{className:"space-y-2",children:l.map(a=>(0,b.jsxs)("button",{onClick:()=>s(a._id),className:"w-full flex items-center justify-between p-4 bg-white border border-slate-200 rounded-xl hover:bg-blue-50 hover:border-blue-200 transition-all group text-left",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center font-bold",children:"ðŸ“…"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-bold text-slate-900 group-hover:text-blue-700 transition-colors",children:a._id}),(0,b.jsxs)("div",{className:"text-xs text-slate-500 font-medium",children:[a.count," Questions Generated"]})]})]}),(0,b.jsx)("span",{className:"text-slate-300 group-hover:text-blue-500 transition-colors",children:"â†’"})]},a._id))})})]})})]})}a.s(["default",()=>e])}];

//# sourceMappingURL=app_admin_quizzes_page_tsx_9ef6d92b._.js.map