{"version":3,"sources":["../../../../app/faculty/dashboard/students/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { toast } from \"sonner\";\n\nexport default function StudentsForm() {\n    const [prefix, setPrefix] = useState(\"EQ\");\n    const [schoolName, setSchoolName] = useState(\"Vajra International\");\n    const [formData, setFormData] = useState({\n        name: \"\",\n        idNo: \"\",\n        age: \"\",\n        class: \"\",\n        password: \"\",\n    });\n    const [editingId, setEditingId] = useState<string | null>(null);\n    const [showFormPassword, setShowFormPassword] = useState(false);\n\n    const [students, setStudents] = useState<any[]>([]);\n    const [isProfileActive, setIsProfileActive] = useState(true);\n    const [loading, setLoading] = useState(true);\n    const [visiblePasswords, setVisiblePasswords] = useState<Set<string>>(new Set());\n\n    const togglePasswordVisibility = (id: string) => {\n        const newVisible = new Set(visiblePasswords);\n        if (newVisible.has(id)) {\n            newVisible.delete(id);\n        } else {\n            newVisible.add(id);\n        }\n        setVisiblePasswords(newVisible);\n    };\n\n    useEffect(() => {\n        const fetchProfileAndStudents = async () => {\n            const session = localStorage.getItem(\"faculty_session\");\n            const faculty = session ? JSON.parse(session) : null;\n            if (faculty) {\n                try {\n                    // 1. Fetch real faculty profile status\n                    const pRes = await fetch(`/api/faculty/profile?facultyId=${faculty.id}`);\n                    const pData = await pRes.json();\n\n                    if (!pRes.ok || !pData.isProfileActive) {\n                        setIsProfileActive(false);\n                        setLoading(false);\n                        return;\n                    }\n\n                    setPrefix(pData.uniqueId);\n                    setSchoolName(pData.schoolName);\n\n                    // 2. Fetch students\n                    const sRes = await fetch(`/api/students?facultyId=${faculty.id}`);\n                    const sData = await sRes.json();\n                    if (Array.isArray(sData)) setStudents(sData);\n                } catch (error) {\n                    console.error(\"Fetch error\", error);\n                }\n            }\n            setLoading(false);\n        };\n        fetchProfileAndStudents();\n    }, []);\n\n    const handleSubmit = async (e: React.FormEvent) => {\n        e.preventDefault();\n\n        // Validation\n        if (!formData.name.trim()) { toast.error(\"Student Name is required\"); return; }\n        // ID and Password are now auto-generated for new students, so no client-side validation needed for them\n        if (!formData.age || parseInt(formData.age) < 5 || parseInt(formData.age) > 25) { toast.error(\"Please enter a valid age (5-25)\"); return; }\n        if (!formData.class) { toast.error(\"Please select a class\"); return; }\n\n        const session = localStorage.getItem(\"faculty_session\");\n        const faculty = session ? JSON.parse(session) : null;\n\n        try {\n            if (editingId) {\n                // UPDATE Mode\n                // Ensure ID format is preserved or updated correctly\n                let finalId = formData.idNo.toUpperCase();\n                // If user edited ID (which they shoudn't really, but if they did), ensure prefix is handled?\n                // Actually, let's assume for Edit mode we respect what's there.\n\n                const res = await fetch('/api/students', {\n                    method: 'PUT',\n                    headers: { 'Content-Type': 'application/json' },\n                    body: JSON.stringify({\n                        id: editingId,\n                        ...formData,\n                    }),\n                });\n                const data = await res.json();\n                if (res.ok) {\n                    setStudents(students.map(s => s._id === editingId ? data.student : s));\n                    setEditingId(null);\n                    toast.success(\"Student updated successfully!\");\n                } else {\n                    toast.error(data.error || \"Update failed\");\n                    return;\n                }\n            } else {\n                // CREATE Mode\n                const res = await fetch('/api/students', {\n                    method: 'POST',\n                    headers: { 'Content-Type': 'application/json' },\n                    body: JSON.stringify({\n                        ...formData,\n                        school: schoolName,\n                        facultyId: faculty?.id,\n                        prefix: prefix // Send prefix for auto-generation\n                    }),\n                });\n                const data = await res.json();\n                if (res.ok) {\n                    setStudents([data.student, ...students]);\n\n                    // Show credentials\n                    toast.success(\n                        <div className=\"space-y-2\">\n                            <p className=\"font-bold text-base\">Student Enrolled!</p>\n                            <div className=\"bg-slate-100 p-2 rounded text-slate-800 font-mono text-sm\">\n                                <div>ID: <span className=\"font-bold\">{data.credentials.idNo}</span></div>\n                                <div>Pass: <span className=\"font-bold\">{data.credentials.password}</span></div>\n                            </div>\n                            <p className=\"text-xs\">Credentials copied to clipboard</p>\n                        </div>,\n                        { duration: 10000 }\n                    );\n                    navigator.clipboard.writeText(`EduQuiz Login\\nID: ${data.credentials.idNo}\\nPassword: ${data.credentials.password}`);\n\n                } else {\n                    toast.error(data.error || \"Enrollment failed\");\n                    return;\n                }\n            }\n\n            // Reset Form\n            setFormData({\n                name: \"\",\n                idNo: \"\",\n                age: \"\",\n                class: \"\",\n                password: \"\",\n            });\n        } catch (err) {\n            toast.error(\"Something went wrong\");\n        }\n    };\n\n    const handleEdit = (student: any) => {\n        setEditingId(student._id);\n        setFormData({\n            name: student.name,\n            idNo: student.idNo, // Keep full ID for edit\n            age: student.age || \"\",\n            class: student.class,\n            password: \"\",\n        });\n        window.scrollTo({ top: 0, behavior: 'smooth' });\n    };\n\n    const handleDelete = async (id: string) => {\n        if (!confirm(\"Are you sure you want to delete this student?\")) return;\n        try {\n            const res = await fetch(`/api/students?id=${id}`, { method: 'DELETE' });\n            if (res.ok) {\n                setStudents(students.filter(s => s._id !== id));\n                toast.success(\"Student deleted successfully\");\n            } else {\n                toast.error(\"Failed to delete\");\n            }\n        } catch (err) {\n            toast.error(\"Error deleting student\");\n        }\n    };\n\n    if (loading) return <div className=\"p-10 text-center font-bold text-slate-400\">Loading activation status...</div>;\n\n    if (!isProfileActive) {\n        return (\n            <div className=\"bg-white p-12 rounded-[40px] border-2 border-dashed border-slate-200 text-center\">\n                <div className=\"text-6xl mb-6\">üîí</div>\n                <h2 className=\"text-2xl font-black text-slate-800 mb-2\">School Profile Not Activated</h2>\n                <p className=\"text-slate-500 mb-8 font-medium\">Please configure your School Name and Unique ID in the Profile section before you can enroll students.</p>\n                <a href=\"/faculty/dashboard/profile\" className=\"px-8 py-3 bg-blue-700 text-white font-black rounded-xl hover:bg-blue-800 transition-all\">\n                    Go to Profile Setup\n                </a>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"space-y-8\">\n            <div className=\"bg-white p-8 rounded-3xl border border-slate-100 shadow-sm\">\n                <h2 className=\"text-2xl font-bold text-slate-900 mb-6 flex items-center gap-2\">\n                    <span>{editingId ? '‚úèÔ∏è' : 'üìù'}</span> {editingId ? 'Edit Student Details' : 'Enroll New Student'}\n                </h2>\n                <form className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\" onSubmit={handleSubmit}>\n                    <div className=\"col-span-1 md:col-span-3 bg-blue-50 border border-blue-100 p-4 rounded-xl flex items-start gap-3\">\n                        <div className=\"text-2xl\">‚ÑπÔ∏è</div>\n                        <div>\n                            <h4 className=\"font-bold text-blue-900 text-sm\">Automatic Enrollment</h4>\n                            <p className=\"text-blue-700 text-xs mt-1\">\n                                Student ID and Password will be <strong>automatically generated</strong> upon enrollment.\n                                You will be able to copy the credentials immediately after registration.\n                            </p>\n                        </div>\n                    </div>\n\n                    <div>\n                        <label className=\"block text-sm font-semibold text-slate-700 mb-1\">Student Name</label>\n                        <input\n                            type=\"text\"\n                            required\n                            value={formData.name}\n                            onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n                            className=\"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none\"\n                            placeholder=\"e.g. Rahul Sharma\"\n                        />\n                    </div>\n\n                    {editingId ? (\n                        <div>\n                            <label className=\"block text-sm font-semibold text-slate-700 mb-1\">ID No.</label>\n                            <input\n                                type=\"text\"\n                                disabled\n                                value={formData.idNo}\n                                className=\"w-full px-4 py-2 bg-slate-100 border border-slate-200 rounded-xl text-slate-500 font-mono cursor-not-allowed\"\n                            />\n                        </div>\n                    ) : (\n                        <div>\n                            <label className=\"block text-sm font-semibold text-slate-700 mb-1\">ID No.</label>\n                            <div className=\"w-full px-4 py-2 bg-slate-100 border border-slate-200 rounded-xl text-slate-400 italic\">\n                                Auto-generated ({prefix}-YYYY-XXX)\n                            </div>\n                        </div>\n                    )}\n\n                    <div className=\"grid grid-cols-2 gap-4\">\n                        <div>\n                            <label className=\"block text-sm font-semibold text-slate-700 mb-1\">Age</label>\n                            <input\n                                type=\"number\"\n                                required\n                                value={formData.age}\n                                onChange={(e) => setFormData({ ...formData, age: e.target.value })}\n                                className=\"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none\"\n                                placeholder=\"15\"\n                            />\n                        </div>\n                        <div>\n                            <label className=\"block text-sm font-semibold text-slate-700 mb-1\">Class</label>\n                            <select\n                                required\n                                value={formData.class}\n                                onChange={(e) => setFormData({ ...formData, class: e.target.value })}\n                                className=\"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none font-bold text-slate-700\"\n                            >\n                                <option value=\"\">Select Class</option>\n                                <option>4th</option>\n                                <option>5th</option>\n                                <option>6th</option>\n                                <option>7th</option>\n                                <option>8th</option>\n                                <option>9th</option>\n                                <option>10th</option>\n                            </select>\n                        </div>\n                    </div>\n\n                    {editingId && (\n                        <div>\n                            <label className=\"block text-sm font-semibold text-slate-700 mb-1\">\n                                Reset Password (Optional)\n                            </label>\n                            <div className=\"relative group\">\n                                <input\n                                    type={showFormPassword ? \"text\" : \"password\"}\n                                    value={formData.password}\n                                    onChange={(e) => setFormData({ ...formData, password: e.target.value })}\n                                    className=\"w-full px-4 py-2.5 bg-white border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none pr-12 transition-all font-mono\"\n                                    placeholder=\"Enter new password\"\n                                    autoComplete=\"new-password\"\n                                />\n                                <button\n                                    type=\"button\"\n                                    onClick={() => setShowFormPassword(!showFormPassword)}\n                                    className=\"absolute right-2 top-1/2 -translate-y-1/2 p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all z-10\"\n                                    title={showFormPassword ? \"Hide\" : \"Show\"}\n                                >\n                                    {showFormPassword ? (\n                                        <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l18 18\" />\n                                        </svg>\n                                    ) : (\n                                        <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\" />\n                                        </svg>\n                                    )}\n                                </button>\n                            </div>\n                        </div>\n                    )}\n\n                    <div className=\"lg:col-span-3 flex justify-end gap-3\">\n                        {editingId && (\n                            <button\n                                type=\"button\"\n                                onClick={() => {\n                                    setEditingId(null);\n                                    setFormData({ name: \"\", idNo: \"\", age: \"\", class: \"\", password: \"\" });\n                                }}\n                                className=\"px-6 py-3 bg-slate-100 text-slate-600 font-bold rounded-xl hover:bg-slate-200 transition-all\"\n                            >\n                                Cancel\n                            </button>\n                        )}\n                        <button type=\"submit\" className=\"px-8 py-3 bg-blue-700 text-white font-bold rounded-xl hover:bg-blue-800 transition-all shadow-lg hover:shadow-blue-200 active:scale-[0.98]\">\n                            {editingId ? 'Update Student' : 'Generate & Register'}\n                        </button>\n                    </div>\n                </form>\n            </div>\n\n            <div className=\"bg-white rounded-3xl border border-slate-100 shadow-sm overflow-hidden\">\n                <div className=\"p-8 border-b\">\n                    <h2 className=\"text-xl font-bold text-slate-900\">Enrolled Students</h2>\n                    <p className=\"text-slate-500 text-sm mt-1\">Manage and track your enrolled students for the current session.</p>\n                </div>\n                <div className=\"overflow-x-auto\">\n                    <table className=\"w-full text-left\">\n                        <thead>\n                            <tr className=\"bg-slate-50\">\n                                <th className=\"px-8 py-4 text-xs font-bold text-slate-500 uppercase tracking-widest\">Name</th>\n                                <th className=\"px-8 py-4 text-xs font-bold text-slate-500 uppercase tracking-widest\">School</th>\n                                <th className=\"px-8 py-4 text-xs font-bold text-slate-500 uppercase tracking-widest\">Class</th>\n                                <th className=\"px-8 py-4 text-xs font-bold text-slate-500 uppercase tracking-widest\">ID</th>\n                                <th className=\"px-8 py-4 text-xs font-bold text-slate-500 uppercase tracking-widest\">Password</th>\n                                <th className=\"px-8 py-4 text-xs font-bold text-slate-500 uppercase tracking-widest\">Status</th>\n                                <th className=\"px-8 py-4 text-xs font-bold text-slate-500 uppercase tracking-widest text-right\">Actions</th>\n                            </tr>\n                        </thead>\n                        <tbody className=\"divide-y divide-slate-100\">\n                            {students.map((student, idx) => (\n                                <tr key={student.idNo + idx} className=\"hover:bg-slate-50/50 transition-colors group\">\n                                    <td className=\"px-8 py-4\">\n                                        <div className=\"font-bold text-slate-800\">{student.name}</div>\n                                    </td>\n                                    <td className=\"px-8 py-4 text-slate-600\">{student.school}</td>\n                                    <td className=\"px-8 py-4\">\n                                        <span className=\"px-3 py-1 bg-slate-100 text-slate-600 rounded-lg font-bold text-xs\">{student.class}</span>\n                                    </td>\n                                    <td className=\"px-8 py-4 font-mono text-sm text-blue-600 font-bold\">\n                                        {student.idNo.includes('-') ? student.idNo : `${prefix}-${student.idNo}`}\n                                    </td>\n                                    <td className=\"px-8 py-4 font-mono text-sm text-slate-600 font-bold\">\n                                        <div className=\"flex items-center gap-3\">\n                                            <span>\n                                                {visiblePasswords.has(student._id)\n                                                    ? (student.displayPassword || \"******** (Protected)\")\n                                                    : \"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢\"}\n                                            </span>\n                                            <button\n                                                onClick={() => togglePasswordVisibility(student._id)}\n                                                className={`p-1.5 rounded-lg transition-all border ${visiblePasswords.has(student._id)\n                                                    ? \"bg-blue-600 text-white border-blue-700\"\n                                                    : \"bg-slate-50 text-slate-500 hover:text-blue-700 hover:bg-blue-50 border-slate-200\"\n                                                    }`}\n                                                title={visiblePasswords.has(student._id) ? \"Hide Password\" : \"Show Password\"}\n                                            >\n                                                {visiblePasswords.has(student._id) ? (\n                                                    <svg className=\"w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l18 18\" />\n                                                    </svg>\n                                                ) : (\n                                                    <svg className=\"w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n                                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\" />\n                                                    </svg>\n                                                )}\n                                            </button>\n                                        </div>\n                                    </td>\n                                    <td className=\"px-8 py-4\">\n                                        <span className={`px-3 py-1 text-[10px] font-black uppercase rounded-full ${student.status === 'Active' ? 'bg-green-100 text-green-700' : 'bg-amber-100 text-amber-700'}`}>\n                                            {student.status}\n                                        </span>\n                                    </td>\n                                    <td className=\"px-8 py-4 text-right flex justify-end gap-2\">\n                                        <button\n                                            onClick={() => !student.hasAttempted && handleEdit(student)}\n                                            disabled={student.hasAttempted}\n                                            className={`p-2 rounded-lg transition-colors ${student.hasAttempted\n                                                ? \"text-slate-300 cursor-not-allowed\"\n                                                : \"text-blue-600 hover:bg-blue-50\"\n                                                }`}\n                                            title={student.hasAttempted ? \"Cannot edit: Student has already started/finished the exam for today. This prevents results from being corrupted.\" : \"Edit Details\"}\n                                        >\n                                            ‚úèÔ∏è\n                                        </button>\n                                        <button onClick={() => handleDelete(student._id)} className=\"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors\" title=\"Delete\">\n                                            üóëÔ∏è\n                                        </button>\n                                    </td>\n                                </tr>\n                            ))}\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}