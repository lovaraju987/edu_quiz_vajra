module.exports=[99632,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(23292);function e(){let[a,e]=(0,c.useState)([]),[f,g]=(0,c.useState)(!0),[h,i]=(0,c.useState)(""),[j,k]=(0,c.useState)(""),l=async()=>{try{let a=await fetch("/api/admin/faculty");if(a.ok){let b=await a.json();e(b.faculty)}else d.toast.error("Failed to load faculty")}catch(a){d.toast.error("Error connecting to server")}finally{g(!1)}},m=async(a,b)=>{try{if((await fetch("/api/admin/faculty",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a,isProfileActive:!b})})).ok)d.toast.success(b?"Faculty deactivated":"Faculty approved"),e(c=>c.map(c=>c._id===a?{...c,isProfileActive:!b}:c));else throw Error("Update failed")}catch(a){d.toast.error("Action failed")}};(0,c.useEffect)(()=>{l()},[]);let n=a.filter(a=>{let b=h.toLowerCase(),c=a.name.toLowerCase().includes(b)||a.email.toLowerCase().includes(b)||a.schoolName.toLowerCase().includes(b),d=!j||("active"===j?a.isProfileActive:!a.isProfileActive);return c&&d});return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-slate-900",children:"Faculty Management"}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("select",{value:j,onChange:a=>k(a.target.value),className:"appearance-none pl-4 pr-10 py-2.5 bg-white border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none text-slate-700 font-medium cursor-pointer hover:border-blue-400 transition-colors w-36",children:[(0,b.jsx)("option",{value:"",children:"All Status"}),(0,b.jsx)("option",{value:"active",children:"Active"}),(0,b.jsx)("option",{value:"pending",children:"Pending"})]}),(0,b.jsx)("div",{className:"absolute right-3 top-3 pointer-events-none text-slate-500 text-xs",children:"â–¼"})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:"text",placeholder:"Name, Email or School...",value:h,onChange:a=>i(a.target.value),className:"pl-10 pr-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none w-72 shadow-sm"}),(0,b.jsx)("span",{className:"absolute left-3 top-2.5 text-slate-400",children:"ðŸ”"})]}),(h||j)&&(0,b.jsx)("button",{onClick:()=>{i(""),k("")},className:"px-4 py-2 text-sm font-bold text-red-500 bg-red-50 hover:bg-red-100 rounded-lg transition-colors border border-red-200",children:"Clear"})]})]}),(0,b.jsx)("div",{className:"bg-white border border-slate-200 rounded-xl overflow-hidden shadow-sm",children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-left",children:[(0,b.jsx)("thead",{className:"bg-slate-50 border-b border-slate-200 text-slate-500 font-bold uppercase text-xs hover:bg-slate-100 transition-colors",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-4",children:"Name & Reg Date"}),(0,b.jsx)("th",{className:"px-6 py-4",children:"School"}),(0,b.jsx)("th",{className:"px-6 py-4",children:"Contact Details"}),(0,b.jsx)("th",{className:"px-6 py-4",children:"Status"}),(0,b.jsx)("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-slate-100",children:f?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:5,className:"px-6 py-12 text-center text-slate-500 animate-pulse",children:"Loading faculty..."})}):0===n.length?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:5,className:"px-6 py-12 text-center text-slate-500",children:"No faculty found matching your filters."})}):n.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-blue-50/50 transition-colors group",children:[(0,b.jsxs)("td",{className:"px-6 py-4",children:[(0,b.jsx)("div",{className:"font-bold text-slate-900",children:a.name}),(0,b.jsx)("div",{className:"text-xs text-slate-400 mt-1 font-mono",children:new Date(a.createdAt).toLocaleDateString()})]}),(0,b.jsx)("td",{className:"px-6 py-4 text-slate-600 font-medium",children:(0,b.jsx)("div",{className:"truncate max-w-[200px]",title:a.schoolName,children:a.schoolName})}),(0,b.jsxs)("td",{className:"px-6 py-4 text-slate-600",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-xs font-bold bg-slate-100 px-1.5 py-0.5 rounded text-slate-500",children:"EMAIL"}),(0,b.jsx)("span",{className:"text-sm",children:a.email})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,b.jsx)("span",{className:"text-xs font-bold bg-slate-100 px-1.5 py-0.5 rounded text-slate-500",children:"PH"}),(0,b.jsx)("span",{className:"text-sm font-mono",children:a.phone})]})]}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("span",{className:`px-2.5 py-1 rounded-full text-xs font-bold inline-flex items-center gap-1.5 ${a.isProfileActive?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"}`,children:[(0,b.jsx)("span",{className:`w-1.5 h-1.5 rounded-full ${a.isProfileActive?"bg-emerald-500":"bg-amber-500 animate-pulse"}`}),a.isProfileActive?"Active":"Pending"]})}),(0,b.jsx)("td",{className:"px-6 py-4 text-right",children:(0,b.jsx)("button",{onClick:()=>m(a._id,a.isProfileActive),className:`px-3 py-1.5 rounded-lg text-xs font-bold uppercase tracking-wider transition-all shadow-sm ${a.isProfileActive?"bg-white border border-slate-200 text-slate-500 hover:bg-slate-50 hover:text-red-500 hover:border-red-200":"bg-emerald-600 text-white hover:bg-emerald-700 hover:shadow-emerald-200"}`,children:a.isProfileActive?"Deactivate":"Approve"})})]},a._id))})]})})}),(0,b.jsxs)("div",{className:"text-right text-xs text-slate-400 font-medium",children:["Showing ",n.length," of ",a.length," faculty members"]})]})}a.s(["default",()=>e])}];

//# sourceMappingURL=app_admin_faculty_page_tsx_768d9197._.js.map