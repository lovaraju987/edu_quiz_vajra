module.exports=[81502,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(23292);function e(){let[a,e]=(0,c.useState)(!1),[f,g]=(0,c.useState)({current:"",new:"",confirm:""}),[h,i]=(0,c.useState)({maintenanceMode:!1,aiAutoScheduler:!0}),[j,k]=(0,c.useState)(!0);(0,c.useEffect)(()=>{(async()=>{try{let a=await fetch("/api/admin/settings");if(a.ok){let b=await a.json();b.settings&&i({maintenanceMode:b.settings.maintenanceMode,aiAutoScheduler:b.settings.aiAutoScheduler})}}catch(a){console.error("Failed to load settings")}finally{k(!1)}})()},[]);let l=async a=>{if(a.preventDefault(),f.new!==f.confirm)return void d.toast.error("New passwords do not match");e(!0);try{let a=await fetch("/api/admin/profile",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:f.current,newPassword:f.new})}),b=await a.json();a.ok?(d.toast.success("Password updated successfully"),g({current:"",new:"",confirm:""})):d.toast.error(b.error||"Failed to update password")}catch(a){d.toast.error("Connection failed")}finally{e(!1)}},m=async a=>{let b=!h[a];i(c=>({...c,[a]:b}));try{(await fetch("/api/admin/settings",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({[a]:b})})).ok?d.toast.success(`${"maintenanceMode"===a?"Maintenance Mode":"AI Scheduler"} ${b?"Enabled":"Disabled"}`):(i(c=>({...c,[a]:!b})),d.toast.error("Failed to update setting"))}catch(c){i(c=>({...c,[a]:!b})),d.toast.error("Connection error")}};return(0,b.jsxs)("div",{className:"space-y-8 max-w-4xl mx-auto",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-slate-900",children:"Settings"}),(0,b.jsxs)("div",{className:"bg-white border border-slate-200 rounded-2xl p-8 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold text-xl",children:"ðŸ”’"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-slate-900",children:"Security"}),(0,b.jsx)("p",{className:"text-slate-500 text-sm",children:"Manage your password and account access."})]})]}),(0,b.jsxs)("form",{onSubmit:l,className:"space-y-4 max-w-md",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Current Password"}),(0,b.jsx)("input",{type:"password",required:!0,value:f.current,onChange:a=>g({...f,current:a.target.value}),className:"w-full px-4 py-2.5 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none transition-all",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"New Password"}),(0,b.jsx)("input",{type:"password",required:!0,minLength:6,value:f.new,onChange:a=>g({...f,new:a.target.value}),className:"w-full px-4 py-2.5 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none transition-all",placeholder:"Min 6 chars"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Confirm New"}),(0,b.jsx)("input",{type:"password",required:!0,minLength:6,value:f.confirm,onChange:a=>g({...f,confirm:a.target.value}),className:"w-full px-4 py-2.5 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none transition-all",placeholder:"Confirm"})]})]}),(0,b.jsx)("button",{type:"submit",disabled:a,className:"w-full py-3 bg-blue-600 text-white font-bold rounded-xl hover:bg-blue-700 disabled:opacity-50 transition-all shadow-lg shadow-blue-200 mt-2",children:a?"Updating...":"Update Password"})]})]}),(0,b.jsxs)("div",{className:"bg-white border border-slate-200 rounded-2xl p-8 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center text-slate-600 font-bold text-xl",children:"âš™ï¸"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-slate-900",children:"System Preferences"}),(0,b.jsx)("p",{className:"text-slate-500 text-sm",children:"Global system configuration."})]})]}),j?(0,b.jsx)("div",{className:"p-8 text-center text-slate-400 animate-pulse",children:"Loading preferences..."}):(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-xl border border-slate-100",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-bold text-slate-800",children:"Maintenance Mode"}),(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"Disable access for non-admin users."})]}),(0,b.jsx)("button",{onClick:()=>m("maintenanceMode"),className:`w-12 h-6 rounded-full relative transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ${h.maintenanceMode?"bg-blue-600":"bg-slate-300"}`,children:(0,b.jsx)("span",{className:`absolute top-1 left-1 w-4 h-4 rounded-full bg-white shadow ring-0 transition-transform duration-200 ease-in-out ${h.maintenanceMode?"translate-x-6":"translate-x-0"}`})})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-xl border border-slate-100",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-bold text-slate-800",children:"AI Auto-Scheduler"}),(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"Automatically generate quizzes at midnight."})]}),(0,b.jsx)("button",{onClick:()=>m("aiAutoScheduler"),className:`w-12 h-6 rounded-full relative transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ${h.aiAutoScheduler?"bg-green-500":"bg-slate-300"}`,children:(0,b.jsx)("span",{className:`absolute top-1 left-1 w-4 h-4 rounded-full bg-white shadow ring-0 transition-transform duration-200 ease-in-out ${h.aiAutoScheduler?"translate-x-6":"translate-x-0"}`})})]})]})]})]})}a.s(["default",()=>e])}];

//# sourceMappingURL=app_admin_settings_page_tsx_b6d248a9._.js.map