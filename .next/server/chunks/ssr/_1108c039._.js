module.exports=[79349,a=>{"use strict";var b=a.i(87924),c=a.i(72131);function d(){let[d,e]=(0,c.useState)(!1),[f,g]=(0,c.useState)(!0),[h,i]=(0,c.useState)({schoolName:"",schoolBoard:"CBSE",uniqueId:"",designation:"",phone:"",address:""}),[j,k]=(0,c.useState)(null);(0,c.useEffect)(()=>{(async()=>{let a=localStorage.getItem("faculty_session"),b=a?JSON.parse(a):null;if(b){k(b);try{let a=await fetch(`/api/faculty/profile?facultyId=${b.id}`),c=await a.json();a.ok&&c.isProfileActive&&(i({schoolName:c.schoolName,schoolBoard:c.schoolBoard,uniqueId:c.uniqueId,designation:c.designation||"",phone:c.phone||"",address:c.address||""}),e(!0))}catch(a){console.error("Failed to fetch profile",a)}}g(!1)})()},[]);let l=async b=>{if(b.preventDefault(),h.uniqueId.length<2)return void a.A(68141).then(({toast:a})=>a.error("Unique ID must be at least 2 letters."));try{let b=await fetch("/api/faculty/profile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({facultyId:j.id,...h})}),c=await b.json();if(b.ok){let b={...j,...c.faculty};localStorage.setItem("faculty_session",JSON.stringify(b)),e(!0),a.A(68141).then(({toast:a})=>a.success("School Profile Activated Successfully!"))}else a.A(68141).then(({toast:a})=>a.error(c.error||"Failed to save profile"))}catch(b){a.A(68141).then(({toast:a})=>a.error("Connection error."))}};return f?(0,b.jsx)("div",{className:"p-10 text-center font-bold text-slate-400",children:"Loading profile..."}):(0,b.jsxs)("div",{className:"space-y-8 max-w-5xl mx-auto",children:[(0,b.jsxs)("div",{className:"bg-[#002e5d] text-white p-8 rounded-[40px] shadow-2xl relative overflow-hidden",children:[(0,b.jsx)("div",{className:"absolute top-0 right-0 p-8 opacity-10",children:(0,b.jsx)("div",{className:"text-9xl font-black rotate-12",children:"PROF"})}),(0,b.jsxs)("div",{className:"relative z-10 flex items-center gap-8",children:[(0,b.jsx)("div",{className:"w-24 h-24 rounded-full bg-blue-700 border-4 border-white/20 flex items-center justify-center text-4xl shadow-inner font-black uppercase",children:j?.name?.split(" ").map(a=>a[0]).join("").slice(0,2)||"FA"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-3xl font-black tracking-tight",children:j?.name||"Faculty Member"}),(0,b.jsx)("p",{className:"text-blue-200 font-bold uppercase tracking-[0.2em] text-xs mt-1",children:d?`${h.schoolName} | ${h.schoolBoard}`:"Profile Pending Activation"}),(0,b.jsxs)("div",{className:"flex gap-4 mt-4",children:[(0,b.jsxs)("span",{className:"px-3 py-1 bg-white/10 rounded-full text-[10px] font-black uppercase tracking-widest border border-white/10",children:["ID: ",j?.id?.slice(-6)||"N/A"]}),(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border ${d?"bg-green-500/20 text-green-300 border-green-500/20":"bg-amber-500/20 text-amber-300 border-amber-500/20"}`,children:d?"Verified":"Pending Activation"})]})]})]})]}),(0,b.jsxs)("div",{className:"bg-white p-10 rounded-[40px] border border-slate-100 shadow-xl shadow-blue-50/50",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-8",children:(0,b.jsxs)("h3",{className:"text-2xl font-black text-slate-900 flex items-center gap-3 tracking-tight",children:[(0,b.jsx)("span",{children:"ðŸ«"})," School Configuration"]})}),d?(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 p-8 bg-slate-50 rounded-3xl border border-slate-100 animate-[fadeIn_0.5s_ease-out]",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Active School"}),(0,b.jsx)("p",{className:"text-lg font-black text-slate-800",children:h.schoolName})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Board Affiliation"}),(0,b.jsx)("p",{className:"text-lg font-black text-slate-800",children:h.schoolBoard})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Student ID Prefix"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"px-3 py-1 bg-[#002e5d] text-white rounded-lg font-mono font-black text-lg shadow-md",children:h.uniqueId}),(0,b.jsxs)("span",{className:"text-xs text-slate-400 font-bold italic",children:["e.g. ",h.uniqueId,"-1001"]})]})]})]}):(0,b.jsxs)("form",{onSubmit:l,className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest ml-1",children:"School Name"}),(0,b.jsx)("input",{type:"text",required:!0,value:h.schoolName,onChange:a=>i({...h,schoolName:a.target.value}),className:"w-full px-6 py-4 bg-slate-50 border-2 border-slate-100 rounded-2xl focus:ring-4 focus:ring-blue-100 focus:border-[#002e5d] outline-none transition-all font-bold text-slate-800",placeholder:"e.g. Vajra International School"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest ml-1",children:"School Board"}),(0,b.jsxs)("select",{value:h.schoolBoard,onChange:a=>i({...h,schoolBoard:a.target.value}),className:"w-full px-6 py-4 bg-slate-50 border-2 border-slate-100 rounded-2xl focus:ring-4 focus:ring-blue-100 focus:border-[#002e5d] outline-none transition-all font-black text-slate-700",children:[(0,b.jsx)("option",{children:"CBSE"}),(0,b.jsx)("option",{children:"ICSE"}),(0,b.jsx)("option",{children:"State Board"}),(0,b.jsx)("option",{children:"IB"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest ml-1",children:"Unique ID (Min 2 letters)"}),(0,b.jsx)("input",{type:"text",maxLength:5,required:!0,value:h.uniqueId,onChange:a=>{let b=a.target.value.toUpperCase();b.length>=2&&["AB","XY","EQ"].includes(b)?a.target.setCustomValidity("This ID is already in use. Please choose another."):a.target.setCustomValidity(""),i({...h,uniqueId:b})},className:"w-full px-6 py-4 bg-slate-50 border-2 border-slate-100 rounded-2xl focus:ring-4 focus:ring-blue-100 focus:border-[#002e5d] outline-none transition-all font-mono font-black uppercase text-slate-800",placeholder:"e.g. VG"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest ml-1",children:"Designation"}),(0,b.jsx)("input",{type:"text",value:h.designation,onChange:a=>i({...h,designation:a.target.value}),className:"w-full px-6 py-4 bg-slate-50 border-2 border-slate-100 rounded-2xl focus:ring-4 focus:ring-blue-100 outline-none font-bold text-slate-800",placeholder:"e.g. Principal"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest ml-1",children:"Phone Number"}),(0,b.jsx)("input",{type:"tel",value:h.phone,onChange:a=>i({...h,phone:a.target.value}),className:"w-full px-6 py-4 bg-slate-50 border-2 border-slate-100 rounded-2xl focus:ring-4 focus:ring-blue-100 outline-none font-bold text-slate-800",placeholder:"e.g. 9876543210"})]}),(0,b.jsxs)("div",{className:"md:col-span-3 space-y-2",children:[(0,b.jsx)("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest ml-1",children:"School Address"}),(0,b.jsx)("input",{type:"text",value:h.address,onChange:a=>i({...h,address:a.target.value}),className:"w-full px-6 py-4 bg-slate-50 border-2 border-slate-100 rounded-2xl focus:ring-4 focus:ring-blue-100 outline-none font-bold text-slate-800",placeholder:"e.g. 123 Education Lane, Hyderabad"})]}),(0,b.jsx)("div",{className:"md:col-span-3 flex justify-end pt-4",children:(0,b.jsx)("button",{type:"submit",className:"px-12 py-4 bg-[#002e5d] text-white font-black rounded-2xl hover:bg-[#003d7a] transition-all shadow-[0_10px_20px_rgba(0,46,93,0.2)] active:scale-95 uppercase tracking-widest text-xs",children:"Activate School Profile"})})]})]})]})}a.s(["default",()=>d])},68141,a=>{a.v(a=>Promise.resolve().then(()=>a(23292)))}];

//# sourceMappingURL=_1108c039._.js.map