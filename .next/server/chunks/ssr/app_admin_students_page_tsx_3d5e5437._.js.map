{"version":3,"sources":["../../../../app/admin/students/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState, useMemo } from \"react\";\nimport { toast } from \"sonner\";\n\ninterface Student {\n    _id: string;\n    name: string;\n    idNo: string;\n    class: string;\n    school: string;\n    status: string;\n    createdAt: string;\n    displayPassword?: string;\n}\n\nexport default function AdminStudents() {\n    const [students, setStudents] = useState<Student[]>([]);\n    const [loading, setLoading] = useState(true);\n    const [search, setSearch] = useState(\"\");\n    const [filterClass, setFilterClass] = useState(\"\");\n\n    const [editingStudent, setEditingStudent] = useState<Student | null>(null);\n\n    // Add Student State\n    const [isAdding, setIsAdding] = useState(false);\n    const [newStudent, setNewStudent] = useState({ name: \"\", class: \"\", school: \"\" });\n    const [visiblePasswords, setVisiblePasswords] = useState<{ [key: string]: boolean }>({});\n\n    const togglePassword = (id: string) => {\n        setVisiblePasswords(prev => ({\n            ...prev,\n            [id]: !prev[id]\n        }));\n    };\n\n    const handleAdd = async (e: React.FormEvent) => {\n        e.preventDefault();\n        try {\n            const res = await fetch(\"/api/admin/students\", {\n                method: \"POST\",\n                headers: { \"Content-Type\": \"application/json\" },\n                body: JSON.stringify(newStudent),\n            });\n\n            const data = await res.json();\n\n            if (res.ok) {\n                setStudents([data.student, ...students]);\n                setIsAdding(false);\n                setNewStudent({ name: \"\", class: \"\", school: \"\" });\n\n                // Show credentials in a persistent toast\n                toast.success(\n                    <div className=\"space-y-2\">\n                        <p className=\"font-bold text-base\">Student Enrolled!</p>\n                        <div className=\"bg-slate-100 p-2 rounded text-slate-800 font-mono text-sm\">\n                            <div>ID: <span className=\"font-bold\">{data.credentials.idNo}</span></div>\n                            <div>Pass: <span className=\"font-bold\">{data.credentials.password}</span></div>\n                        </div>\n                        <p className=\"text-xs\">Credentials copied to clipboard</p>\n                    </div>,\n                    { duration: 10000 }\n                );\n\n                // Auto-copy to clipboard\n                navigator.clipboard.writeText(`EduQuiz Login\\nID: ${data.credentials.idNo}\\nPassword: ${data.credentials.password}`);\n            } else {\n                toast.error(data.error || \"Failed to add student\");\n            }\n        } catch (error) {\n            toast.error(\"Error connecting to server\");\n        }\n    };\n\n    const fetchStudents = async () => {\n        try {\n            const res = await fetch(\"/api/admin/students\");\n            if (res.ok) {\n                const data = await res.json();\n                setStudents(data.students);\n            } else {\n                toast.error(\"Failed to load students\");\n            }\n        } catch (error) {\n            toast.error(\"Error connecting to server\");\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const handleDelete = async (id: string) => {\n        if (!confirm(\"Are you sure you want to delete this student?\")) return;\n\n        try {\n            const res = await fetch(\"/api/admin/students\", {\n                method: \"DELETE\",\n                headers: { \"Content-Type\": \"application/json\" },\n                body: JSON.stringify({ id }),\n            });\n\n            if (res.ok) {\n                toast.success(\"Student deleted successfully\");\n                setStudents(students.filter(s => s._id !== id));\n            } else {\n                throw new Error(\"Failed to delete\");\n            }\n        } catch (error) {\n            toast.error(\"Delete failed\");\n        }\n    };\n\n    const handleUpdate = async (e: React.FormEvent) => {\n        e.preventDefault();\n        if (!editingStudent) return;\n\n        try {\n            const res = await fetch(\"/api/admin/students\", {\n                method: \"PATCH\",\n                headers: { \"Content-Type\": \"application/json\" },\n                body: JSON.stringify({\n                    id: editingStudent._id,\n                    name: editingStudent.name,\n                    idNo: editingStudent.idNo,\n                    class: editingStudent.class,\n                    school: editingStudent.school,\n                    status: editingStudent.status\n                }),\n            });\n\n            if (res.ok) {\n                const data = await res.json();\n                setStudents(students.map(s => s._id === editingStudent._id ? data.student : s));\n                setEditingStudent(null);\n                toast.success(\"Student updated successfully\");\n            } else {\n                throw new Error(\"Failed to update\");\n            }\n        } catch (error) {\n            toast.error(\"Update failed\");\n        }\n    };\n\n    useEffect(() => {\n        fetchStudents();\n    }, []);\n\n    // Extract unique options for dropdowns\n    const uniqueClasses = useMemo(() => {\n        return Array.from(new Set(students.map(s => s.class))).sort();\n    }, [students]);\n\n    const filteredStudents = students.filter(s => {\n        const term = search.toLowerCase();\n        const matchesSearch =\n            s.name.toLowerCase().includes(term) ||\n            s.idNo.toLowerCase().includes(term) ||\n            s.school.toLowerCase().includes(term);\n\n        const matchesClass = filterClass ? s.class === filterClass : true;\n\n        return matchesSearch && matchesClass;\n    });\n\n    const clearFilters = () => {\n        setSearch(\"\");\n        setFilterClass(\"\");\n    };\n\n    return (\n        <div className=\"space-y-6\">\n            {/* Add Student Modal */}\n            {isAdding && (\n                <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n                    <div className=\"bg-white rounded-2xl w-full max-w-lg shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200\">\n                        <div className=\"bg-slate-50 px-6 py-4 border-b border-slate-100 flex justify-between items-center\">\n                            <h3 className=\"font-bold text-lg text-slate-900\">Add New Student</h3>\n                            <button\n                                onClick={() => setIsAdding(false)}\n                                className=\"text-slate-400 hover:text-slate-600 transition-colors\"\n                            >\n                                ‚úï\n                            </button>\n                        </div>\n\n                        <form onSubmit={handleAdd} className=\"p-6 space-y-4\">\n                            <div className=\"p-4 bg-blue-50 border border-blue-100 rounded-xl mb-4\">\n                                <p className=\"text-sm text-blue-700 font-medium\">\n                                    <span className=\"font-bold\">Note:</span> Student ID and Password will be auto-generated upon creation.\n                                </p>\n                            </div>\n\n                            <div className=\"pt-4 flex gap-3\">\n                                <button\n                                    type=\"button\"\n                                    onClick={() => setIsAdding(false)}\n                                    className=\"flex-1 py-2.5 bg-slate-100 text-slate-600 font-bold rounded-xl hover:bg-slate-200 transition-colors\"\n                                >\n                                    Cancel\n                                </button>\n                                <button\n                                    type=\"submit\"\n                                    className=\"flex-1 py-2.5 bg-blue-600 text-white font-bold rounded-xl hover:bg-blue-700 transition-colors shadow-lg shadow-blue-200\"\n                                >\n                                    Generate & Enroll\n                                </button>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            )}\n\n            {/* Edit Modal */}\n            {editingStudent && (\n                <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n                    <div className=\"bg-white rounded-2xl w-full max-w-lg shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200\">\n                        <div className=\"bg-slate-50 px-6 py-4 border-b border-slate-100 flex justify-between items-center\">\n                            <h3 className=\"font-bold text-lg text-slate-900\">Edit Student</h3>\n                            <button\n                                onClick={() => setEditingStudent(null)}\n                                className=\"text-slate-400 hover:text-slate-600 transition-colors\"\n                            >\n                                ‚úï\n                            </button>\n                        </div>\n\n                        <form onSubmit={handleUpdate} className=\"p-6 space-y-4\">\n                            <div className=\"grid grid-cols-2 gap-4\">\n                                <div>\n                                    <label className=\"block text-xs font-bold text-slate-500 uppercase mb-1\">Name</label>\n                                    <input\n                                        type=\"text\"\n                                        required\n                                        value={editingStudent!.name}\n                                        onChange={e => setEditingStudent(prev => prev ? { ...prev, name: e.target.value } : null)}\n                                        className=\"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none font-medium\"\n                                    />\n                                </div>\n                                <div>\n                                    <label className=\"block text-xs font-bold text-slate-500 uppercase mb-1\">ID No</label>\n                                    <input\n                                        type=\"text\"\n                                        disabled\n                                        value={editingStudent!.idNo}\n                                        className=\"w-full px-3 py-2 border border-slate-200 bg-slate-50 rounded-lg text-slate-500 font-mono text-sm cursor-not-allowed\"\n                                        title=\"ID cannot be changed\"\n                                    />\n                                </div>\n                            </div>\n\n                            <div>\n                                <label className=\"block text-xs font-bold text-slate-500 uppercase mb-1\">School</label>\n                                <input\n                                    type=\"text\"\n                                    required\n                                    value={editingStudent!.school}\n                                    onChange={e => setEditingStudent(prev => prev ? { ...prev, school: e.target.value } : null)}\n                                    className=\"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none\"\n                                />\n                            </div>\n\n                            <div className=\"grid grid-cols-2 gap-4\">\n                                <div>\n                                    <label className=\"block text-xs font-bold text-slate-500 uppercase mb-1\">Class</label>\n                                    <input\n                                        type=\"text\"\n                                        required\n                                        value={editingStudent!.class}\n                                        onChange={e => setEditingStudent(prev => prev ? { ...prev, class: e.target.value } : null)}\n                                        className=\"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none\"\n                                    />\n                                </div>\n                                <div>\n                                    <label className=\"block text-xs font-bold text-slate-500 uppercase mb-1\">Status</label>\n                                    <select\n                                        value={editingStudent!.status}\n                                        onChange={e => setEditingStudent(prev => prev ? { ...prev, status: e.target.value } : null)}\n                                        className=\"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white\"\n                                    >\n                                        <option value=\"Active\">Active</option>\n                                        <option value=\"Inactive\">Inactive</option>\n                                    </select>\n                                </div>\n                            </div>\n\n                            <div className=\"pt-4 flex gap-3\">\n                                <button\n                                    type=\"button\"\n                                    onClick={() => setEditingStudent(null)}\n                                    className=\"flex-1 py-2.5 bg-slate-100 text-slate-600 font-bold rounded-xl hover:bg-slate-200 transition-colors\"\n                                >\n                                    Cancel\n                                </button>\n                                <button\n                                    type=\"submit\"\n                                    className=\"flex-1 py-2.5 bg-blue-600 text-white font-bold rounded-xl hover:bg-blue-700 transition-colors shadow-lg shadow-blue-200\"\n                                >\n                                    Save Changes\n                                </button>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            )}\n\n            <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4\">\n                <h1 className=\"text-3xl font-bold text-slate-900\">Students Management</h1>\n                <button\n                    onClick={() => setIsAdding(true)}\n                    className=\"px-6 py-2.5 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-xl shadow-lg shadow-blue-200 transition-all active:scale-95 flex items-center gap-2\"\n                >\n                    <span className=\"text-lg\">+</span> Add Student\n                </button>\n            </div>\n\n            <div className=\"flex flex-wrap items-center gap-3\">\n                {/* Filters Section */}\n                <div className=\"relative\">\n                    <select\n                        value={filterClass}\n                        onChange={(e) => setFilterClass(e.target.value)}\n                        className=\"appearance-none pl-4 pr-10 py-2.5 bg-white border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none text-slate-700 font-medium cursor-pointer hover:border-blue-400 transition-colors w-32\"\n                    >\n                        <option value=\"\">All Classes</option>\n                        {uniqueClasses.map(cls => (\n                            <option key={cls} value={cls}>{cls}</option>\n                        ))}\n                    </select>\n                    <div className=\"absolute right-3 top-3 pointer-events-none text-slate-500 text-xs\">‚ñº</div>\n                </div>\n\n                <div className=\"relative\">\n                    <input\n                        type=\"text\"\n                        placeholder=\"Name, ID or School...\"\n                        value={search}\n                        onChange={(e) => setSearch(e.target.value)}\n                        className=\"pl-10 pr-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none w-72 shadow-sm\"\n                    />\n                    <span className=\"absolute left-3 top-2.5 text-slate-400\">üîç</span>\n                </div>\n\n                {(search || filterClass) && (\n                    <button\n                        onClick={clearFilters}\n                        className=\"px-4 py-2 text-sm font-bold text-red-500 bg-red-50 hover:bg-red-100 rounded-lg transition-colors border border-red-200\"\n                    >\n                        Clear\n                    </button>\n                )}\n            </div>\n\n            <div className=\"bg-white border border-slate-200 rounded-xl overflow-hidden shadow-sm\">\n                <div className=\"overflow-x-auto min-h-[400px]\">\n                    <table className=\"w-full text-left\">\n                        <thead className=\"bg-slate-50 border-b border-slate-200 text-slate-500 font-bold uppercase text-xs hover:bg-slate-100 transition-colors\">\n                            <tr>\n                                <th className=\"px-6 py-4\">Name</th>\n                                <th className=\"px-6 py-4\">ID No</th>\n                                <th className=\"px-6 py-4\">Password</th>\n                                <th className=\"px-6 py-4\">Class</th>\n                                <th className=\"px-6 py-4\">School</th>\n                                <th className=\"px-6 py-4\">Status</th>\n                                <th className=\"px-6 py-4 text-right\">Actions</th>\n                            </tr>\n                        </thead>\n                        <tbody className=\"divide-y divide-slate-100\">\n                            {loading ? (\n                                <tr><td colSpan={7} className=\"px-6 py-12 text-center text-slate-500 animate-pulse\">Loading students...</td></tr>\n                            ) : filteredStudents.length === 0 ? (\n                                <tr><td colSpan={7} className=\"px-6 py-12 text-center text-slate-500\">\n                                    No students found matching your filters.\n                                </td></tr>\n                            ) : (\n                                filteredStudents.map(student => (\n                                    <tr key={student._id} className=\"hover:bg-blue-50/50 transition-colors group\">\n                                        <td className=\"px-6 py-4\">\n                                            <div className=\"font-bold text-slate-900\">{student.name}</div>\n                                        </td>\n                                        <td className=\"px-6 py-4\">\n                                            <span className=\"font-mono text-xs bg-slate-100 px-2 py-1 rounded text-slate-600 border border-slate-200 font-bold\">\n                                                {student.idNo}\n                                            </span>\n                                        </td>\n                                        <td className=\"px-6 py-4\">\n                                            {student.displayPassword ? (\n                                                <div className=\"flex items-center gap-2 group/pass\">\n                                                    <span className={visiblePasswords[student._id]\n                                                        ? \"font-mono text-sm font-bold text-blue-600 bg-blue-50 px-2 py-0.5 rounded\"\n                                                        : \"text-slate-400 tracking-widest text-lg leading-none\"}>\n                                                        {visiblePasswords[student._id] ? student.displayPassword : \"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢\"}\n                                                    </span>\n                                                    <button\n                                                        onClick={() => togglePassword(student._id)}\n                                                        className=\"text-slate-400 hover:text-blue-600 transition-colors p-1\"\n                                                        title={visiblePasswords[student._id] ? \"Hide\" : \"Show Password\"}\n                                                    >\n                                                        {visiblePasswords[student._id] ? (\n                                                            <svg className=\"w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                                                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l18 18\" />\n                                                            </svg>\n                                                        ) : (\n                                                            <svg className=\"w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                                                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n                                                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\" />\n                                                            </svg>\n                                                        )}\n                                                    </button>\n                                                </div>\n                                            ) : (\n                                                <span className=\"text-xs text-slate-400 italic\">Changed</span>\n                                            )}\n                                        </td>\n                                        <td className=\"px-6 py-4 text-slate-600 font-medium\">\n                                            {student.class}\n                                        </td>\n                                        <td className=\"px-6 py-4 text-slate-600\">\n                                            <div className=\"truncate max-w-[150px]\" title={student.school}>\n                                                {student.school}\n                                            </div>\n                                        </td>\n                                        <td className=\"px-6 py-4\">\n                                            <span className={`px-2.5 py-1 rounded-full text-xs font-bold inline-flex items-center gap-1 ${student.status === 'Active' ? 'bg-emerald-100 text-emerald-700' : 'bg-slate-100 text-slate-600'\n                                                }`}>\n                                                <span className={`w-1.5 h-1.5 rounded-full ${student.status === 'Active' ? 'bg-emerald-500' : 'bg-slate-400'}`}></span>\n                                                {student.status}\n                                            </span>\n                                        </td>\n                                        <td className=\"px-6 py-4 text-right flex items-center justify-end gap-2\">\n                                            <button\n                                                onClick={() => setEditingStudent(student)}\n                                                className=\"text-blue-500 hover:text-blue-700 p-2 hover:bg-blue-50 rounded-lg transition-all opacity-0 group-hover:opacity-100 focus:opacity-100\"\n                                                title=\"Edit Student\"\n                                            >\n                                                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n                                                </svg>\n                                            </button>\n                                            <button\n                                                onClick={() => handleDelete(student._id)}\n                                                className=\"text-red-500 hover:text-red-700 p-2 hover:bg-red-50 rounded-lg transition-all opacity-0 group-hover:opacity-100 focus:opacity-100\"\n                                                title=\"Delete Student\"\n                                            >\n                                                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                                                </svg>\n                                            </button>\n                                        </td>\n                                    </tr>\n                                ))\n                            )}\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n\n            <div className=\"text-right text-xs text-slate-400 font-medium\">\n                Showing {filteredStudents.length} of {students.length} students\n            </div>\n        </div >\n    );\n}\n"],"names":[],"mappings":"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"}