{"version":3,"sources":["../../../models/Student.ts"],"sourcesContent":["import mongoose, { Schema, model, models } from 'mongoose';\n\nconst StudentSchema = new Schema({\n    name: { type: String, required: true },\n    idNo: { type: String, required: true, unique: true },\n    class: { type: String, required: true },\n    age: { type: String },\n    school: { type: String, required: true },\n    facultyId: { type: Schema.Types.ObjectId, ref: 'Faculty', index: true },\n    password: { type: String }, // Hashed password\n    displayPassword: { type: String, default: '' }, // Plain text for faculty view\n    isFirstLogin: { type: Boolean, default: true },\n    status: { type: String, default: 'Active' },\n    lastActiveAt: { type: Date, default: Date.now },\n    createdAt: { type: Date, default: Date.now },\n});\n\n// In Next.js development, models can get cached with old schemas. \n// This check helps ensure the 'displayPassword' field is recognized.\nif (models && models.Student && !models.Student.schema.paths.displayPassword) {\n    delete (models as any).Student;\n}\n\nconst Student = models && models.Student ? models.Student : model('Student', StudentSchema);\n\nexport default Student as any;\n"],"names":[],"mappings":"uCAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OAEA,IAAM,EAAgB,IAAI,EAAA,MAAM,CAAC,CAC7B,KAAM,CAAE,KAAM,OAAQ,UAAU,CAAK,EACrC,KAAM,CAAE,KAAM,OAAQ,UAAU,EAAM,QAAQ,CAAK,EACnD,MAAO,CAAE,KAAM,OAAQ,UAAU,CAAK,EACtC,IAAK,CAAE,KAAM,MAAO,EACpB,OAAQ,CAAE,KAAM,OAAQ,UAAU,CAAK,EACvC,UAAW,CAAE,KAAM,EAAA,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAE,IAAK,UAAW,MAAO,EAAK,EACtE,SAAU,CAAE,KAAM,MAAO,EACzB,gBAAiB,CAAE,KAAM,OAAQ,QAAS,EAAG,EAC7C,aAAc,CAAE,KAAM,QAAS,SAAS,CAAK,EAC7C,OAAQ,CAAE,KAAM,OAAQ,QAAS,QAAS,EAC1C,aAAc,CAAE,KAAM,KAAM,QAAS,KAAK,GAAG,AAAC,EAC9C,UAAW,CAAE,KAAM,KAAM,QAAS,KAAK,GAAG,AAAC,CAC/C,EAII,GAAA,MAAM,EAAI,EAAA,MAAM,CAAC,OAAO,EAAI,CAAC,EAAA,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,eAAe,EAAE,AAC1E,OAAQ,EAAA,MAAM,CAAS,OAAO,CAGlC,IAAM,EAAU,EAAA,MAAM,EAAI,EAAA,MAAM,CAAC,OAAO,CAAG,EAAA,MAAM,CAAC,OAAO,CAAG,CAAA,EAAA,EAAA,KAAA,AAAK,EAAC,UAAW,oBAE9D"}