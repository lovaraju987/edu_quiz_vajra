(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,80929,e=>{"use strict";var t=e.i(43476),s=e.i(71645);function l(){let[e,l]=(0,s.useState)({totalStudents:0,enrolledToday:0,totalQuizResults:0,completionRate:0,recentActivities:[]}),[a,i]=(0,s.useState)(""),[r,n]=(0,s.useState)(0);(0,s.useEffect)(()=>{let e=async()=>{let e=localStorage.getItem("faculty_session"),t=e?JSON.parse(e):null;if(t){let e=await fetch(`/api/faculty/stats?facultyId=${t.id}`),s=await e.json();e.ok&&(l(s),n(Math.min(Math.round(s.globalLiveParticipants/100*100),100)),i((e=>{let t=new Date,s=new Date;if("Opening Soon"===e){s.setHours(8,0,0,0);let e=s.getTime()-t.getTime(),l=Math.floor(e/36e5),a=Math.floor(e/6e4%60);return`starts in ${l}h ${a}m`}if("Live"===e){s.setHours(20,0,0,0);let e=s.getTime()-t.getTime(),l=Math.floor(e/36e5),a=Math.floor(e/6e4%60);return`ends in ${l}h ${a}m`}{s.setDate(s.getDate()+1),s.setHours(8,0,0,0);let e=s.getTime()-t.getTime(),l=Math.floor(e/36e5),a=Math.floor(e/6e4%60);return`tomorrow in ${l}h ${a}m`}})(s.examStatus)))}};e();let t=setInterval(e,3e4);return()=>clearInterval(t)},[]);let o=[{name:"Total Students",value:e.totalStudents,icon:"ðŸ‘¥",change:"Live",color:"text-blue-600 bg-blue-50"},{name:"Enrolled Today",value:e.enrolledToday,icon:"ðŸ“",change:"Daily",color:"text-green-600 bg-green-50"},{name:"Quiz Completion",value:`${e.completionRate}%`,icon:"âœ…",change:"Total",color:"text-purple-600 bg-purple-50"},{name:"Daily Top 100",value:"Closed"===e.examStatus?"Calculating...":"Active",icon:"ðŸ†",change:"Live"===e.examStatus?"Closes 8PM":"8:00 PM",color:"text-amber-600 bg-amber-50"}];return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:o.map(e=>(0,t.jsxs)("div",{className:"p-6 bg-white rounded-3xl border border-slate-100 shadow-sm hover:shadow-md transition-shadow",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center text-2xl ${e.color}`,children:e.icon}),(0,t.jsx)("span",{className:`text-xs font-bold px-2 py-1 rounded-full ${"Daily Top 100"===e.name?"bg-amber-100 text-amber-700":"bg-green-100 text-green-700"}`,children:e.change})]}),(0,t.jsx)("h3",{className:"text-slate-500 text-sm font-semibold uppercase tracking-wider",children:e.name}),(0,t.jsx)("p",{className:"text-3xl font-extrabold text-slate-900 mt-1",children:e.value})]},e.name))}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,t.jsxs)("div",{className:"bg-white p-8 rounded-3xl border border-slate-100 shadow-sm",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-slate-900 mb-6",children:"Recent Activity"}),(0,t.jsx)("div",{className:"space-y-6",children:e.recentActivities?.length>0?e.recentActivities.map((e,s)=>{var l;let a,i,r,n,o;return(0,t.jsxs)("div",{className:"flex gap-4 items-start pb-6 border-b border-slate-50 last:border-0 last:pb-0",children:[(0,t.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold ${"registration"===e.type?"bg-blue-50 text-blue-500":"bg-green-50 text-green-500"}`,children:"registration"===e.type?"ðŸ‘¤":"ðŸŽ¯"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-bold text-slate-800",children:e.title}),(0,t.jsxs)("p",{className:"text-xs text-slate-500 mt-1",children:[(l=e.date,a=new Date,i=new Date(l),o=Math.floor((n=Math.floor((r=Math.floor((a.getTime()-i.getTime())/6e4))/60))/24),r<1?"Just now":r<60?`${r}m ago`:n<24?`${n}h ago`:`${o}d ago`)," â€¢ ",e.subtitle]})]})]},s)}):(0,t.jsx)("div",{className:"text-center py-10",children:(0,t.jsx)("p",{className:"text-slate-400 text-sm italic",children:"No recent activity found."})})})]}),(0,t.jsxs)("div",{className:"bg-blue-900 text-white p-8 rounded-3xl shadow-xl border border-blue-800 overflow-hidden relative",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:(0,t.jsx)("div",{className:"text-9xl font-black rotate-12",children:"8:30"})}),(0,t.jsx)("h3",{className:"text-xl font-bold mb-2",children:"Daily Live Quiz Pulse"}),(0,t.jsxs)("p",{className:"text-blue-200 text-sm mb-8",children:["Live"===e.examStatus?"The exam is currently LIVE.":"Opening Soon"===e.examStatus?"The exam window opens soon.":"The exam window is now closed."," Next session ",a,"."]}),(0,t.jsxs)("div",{className:"space-y-4 relative z-10",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,t.jsx)("span",{className:"text-blue-300",children:"Live Participants"}),(0,t.jsx)("span",{className:"font-bold",children:e.globalLiveParticipants||0})]}),(0,t.jsx)("div",{className:"w-full h-2 bg-blue-800 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-yellow-400 transition-all duration-1000",style:{width:`${r}%`}})}),(0,t.jsx)("p",{className:"text-xs text-blue-300 italic",children:"Tracking real-time student activity"})]})]})]})]})}e.s(["default",()=>l])}]);