(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,50816,e=>{"use strict";e.s(["MENU_ITEMS",0,[{href:"/private-schools-play",label:"Private schools (Play)"},{href:"/private-schools-daycare",label:"Private schools (Day care)"},{href:"/private-schools-kinder",label:"Private schools (Kinder Garden)"},{href:"/private-schools-primary",label:"Private schools (Primary)"},{href:"/private-schools-secondary",label:"Private schools (Secondary)"},{href:"/tuition-centers",label:"Tuition Centers"},{href:"/home-tutors",label:"Home Tutions (tutors)"},{href:"/online-tutors",label:"Online Tutors"},{href:"/child-psychologist",label:"Child Psychologist"},{href:"/pediatric-doctors",label:"Pediatric Doctors & Hospitals"},{href:"/book-publishers",label:"Book Publishers"},{href:"/book-stalls",label:"Book Stalls"},{href:"/electronic-gadgets",label:"Electronic Gadgets (Stud)"},{href:"/sports-fitness",label:"Sports & Fitness centers"},{href:"/music-dance",label:"Music & Dance schools"}]])},58035,e=>{"use strict";var t=e.i(43476),s=e.i(71645),l=e.i(22016),a=e.i(46696),r=e.i(50816);function o(){let[e,o]=(0,s.useState)([]),[i,c]=(0,s.useState)(!0),[d,n]=(0,s.useState)("");(0,s.useEffect)(()=>{h()},[d]);let h=async()=>{try{c(!0);let e=d?`/api/schools?category=${d}`:"/api/schools",t=await fetch(e),s=await t.json();s.success?o(s.data):a.toast.error(s.error||"Failed to fetch schools")}catch(e){a.toast.error("An error occurred while fetching schools")}finally{c(!1)}},x=async e=>{if(confirm("Are you sure you want to delete this school?"))try{let t=await fetch(`/api/schools/${e}`,{method:"DELETE"}),s=await t.json();s.success?(a.toast.success("School deleted successfully"),h()):a.toast.error(s.error||"Failed to delete school")}catch(e){a.toast.error("An error occurred while deleting")}};return(0,t.jsxs)("div",{className:"p-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Educational Directory"}),(0,t.jsx)(l.default,{href:"/admin/directory/new",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition",children:"Add Institution"})]}),(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)("select",{value:d,onChange:e=>n(e.target.value),className:"p-2 border rounded-lg w-full max-w-md",children:[(0,t.jsx)("option",{value:"",children:"All Categories"}),r.MENU_ITEMS.map(e=>(0,t.jsx)("option",{value:e.href.replace("/",""),children:e.label},e.href))]})}),i?(0,t.jsx)("div",{className:"text-center py-10",children:"Loading..."}):(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-slate-200",children:[(0,t.jsx)("thead",{className:"bg-slate-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Name & Principal"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Category"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Contact Details"}),(0,t.jsx)("th",{className:"px-6 py-4 text-right text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),(0,t.jsxs)("tbody",{className:"bg-white divide-y divide-slate-200",children:[e.map(e=>{let s=r.MENU_ITEMS.find(t=>t.href==="/"+e.category||t.href===e.category)?.label||e.category;return(0,t.jsxs)("tr",{className:"hover:bg-slate-50 transition-colors",children:[(0,t.jsxs)("td",{className:"px-6 py-4",children:[(0,t.jsx)("div",{className:"text-sm font-bold text-slate-900",children:e.name}),(0,t.jsx)("div",{className:"text-sm text-slate-500 mt-0.5",children:e.principalName})]}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("span",{className:"px-2.5 py-1 inline-flex text-xs leading-5 font-bold rounded-full bg-blue-100 text-blue-700",children:s})}),(0,t.jsxs)("td",{className:"px-6 py-4",children:[(0,t.jsx)("div",{className:"text-sm text-slate-900 font-medium",children:e.phone}),(0,t.jsx)("div",{className:"text-sm text-slate-500 mt-0.5 min-w-[200px] max-w-xs whitespace-normal sm:whitespace-pre-wrap",children:e.address})]}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,t.jsx)("button",{onClick:()=>x(e._id),className:"text-red-500 hover:text-red-700 bg-red-50 hover:bg-red-100 px-3 py-1.5 rounded-lg transition-colors text-xs font-bold uppercase tracking-wide",children:"Delete"})})]},e._id)}),0===e.length&&(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:4,className:"px-6 py-10 text-center text-slate-500",children:"No institutions found. Seed data or add a new one."})})]})]})})})]})}e.s(["default",()=>o])}]);