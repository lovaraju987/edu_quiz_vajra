(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,93374,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(46696);function l(){let[e,l]=(0,s.useState)([]),[r,i]=(0,s.useState)(!0),[o,n]=(0,s.useState)(""),[c,d]=(0,s.useState)(""),x=async()=>{try{let e=await fetch("/api/admin/faculty");if(e.ok){let t=await e.json();l(t.faculty)}else a.toast.error("Failed to load faculty")}catch(e){a.toast.error("Error connecting to server")}finally{i(!1)}},h=async(e,t)=>{try{if((await fetch("/api/admin/faculty",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,isProfileActive:!t})})).ok)a.toast.success(t?"Faculty deactivated":"Faculty approved"),l(s=>s.map(s=>s._id===e?{...s,isProfileActive:!t}:s));else throw Error("Update failed")}catch(e){a.toast.error("Action failed")}};(0,s.useEffect)(()=>{x()},[]);let m=e.filter(e=>{let t=o.toLowerCase(),s=e.name.toLowerCase().includes(t)||e.email.toLowerCase().includes(t)||e.schoolName.toLowerCase().includes(t),a=!c||("active"===c?e.isProfileActive:!e.isProfileActive);return s&&a});return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-slate-900",children:"Faculty Management"}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"appearance-none pl-4 pr-10 py-2.5 bg-white border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none text-slate-700 font-medium cursor-pointer hover:border-blue-400 transition-colors w-36",children:[(0,t.jsx)("option",{value:"",children:"All Status"}),(0,t.jsx)("option",{value:"active",children:"Active"}),(0,t.jsx)("option",{value:"pending",children:"Pending"})]}),(0,t.jsx)("div",{className:"absolute right-3 top-3 pointer-events-none text-slate-500 text-xs",children:"â–¼"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"text",placeholder:"Name, Email or School...",value:o,onChange:e=>n(e.target.value),className:"pl-10 pr-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none w-72 shadow-sm"}),(0,t.jsx)("span",{className:"absolute left-3 top-2.5 text-slate-400",children:"ðŸ”"})]}),(o||c)&&(0,t.jsx)("button",{onClick:()=>{n(""),d("")},className:"px-4 py-2 text-sm font-bold text-red-500 bg-red-50 hover:bg-red-100 rounded-lg transition-colors border border-red-200",children:"Clear"})]})]}),(0,t.jsx)("div",{className:"bg-white border border-slate-200 rounded-xl overflow-hidden shadow-sm",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left",children:[(0,t.jsx)("thead",{className:"bg-slate-50 border-b border-slate-200 text-slate-500 font-bold uppercase text-xs hover:bg-slate-100 transition-colors",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-4",children:"Name & Reg Date"}),(0,t.jsx)("th",{className:"px-6 py-4",children:"School"}),(0,t.jsx)("th",{className:"px-6 py-4",children:"Contact Details"}),(0,t.jsx)("th",{className:"px-6 py-4",children:"Status"}),(0,t.jsx)("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-100",children:r?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:5,className:"px-6 py-12 text-center text-slate-500 animate-pulse",children:"Loading faculty..."})}):0===m.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:5,className:"px-6 py-12 text-center text-slate-500",children:"No faculty found matching your filters."})}):m.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-blue-50/50 transition-colors group",children:[(0,t.jsxs)("td",{className:"px-6 py-4",children:[(0,t.jsx)("div",{className:"font-bold text-slate-900",children:e.name}),(0,t.jsx)("div",{className:"text-xs text-slate-400 mt-1 font-mono",children:new Date(e.createdAt).toLocaleDateString()})]}),(0,t.jsx)("td",{className:"px-6 py-4 text-slate-600 font-medium",children:(0,t.jsx)("div",{className:"truncate max-w-[200px]",title:e.schoolName,children:e.schoolName})}),(0,t.jsxs)("td",{className:"px-6 py-4 text-slate-600",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-xs font-bold bg-slate-100 px-1.5 py-0.5 rounded text-slate-500",children:"EMAIL"}),(0,t.jsx)("span",{className:"text-sm",children:e.email})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,t.jsx)("span",{className:"text-xs font-bold bg-slate-100 px-1.5 py-0.5 rounded text-slate-500",children:"PH"}),(0,t.jsx)("span",{className:"text-sm font-mono",children:e.phone})]})]}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("span",{className:`px-2.5 py-1 rounded-full text-xs font-bold inline-flex items-center gap-1.5 ${e.isProfileActive?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"}`,children:[(0,t.jsx)("span",{className:`w-1.5 h-1.5 rounded-full ${e.isProfileActive?"bg-emerald-500":"bg-amber-500 animate-pulse"}`}),e.isProfileActive?"Active":"Pending"]})}),(0,t.jsx)("td",{className:"px-6 py-4 text-right",children:(0,t.jsx)("button",{onClick:()=>h(e._id,e.isProfileActive),className:`px-3 py-1.5 rounded-lg text-xs font-bold uppercase tracking-wider transition-all shadow-sm ${e.isProfileActive?"bg-white border border-slate-200 text-slate-500 hover:bg-slate-50 hover:text-red-500 hover:border-red-200":"bg-emerald-600 text-white hover:bg-emerald-700 hover:shadow-emerald-200"}`,children:e.isProfileActive?"Deactivate":"Approve"})})]},e._id))})]})})}),(0,t.jsxs)("div",{className:"text-right text-xs text-slate-400 font-medium",children:["Showing ",m.length," of ",e.length," faculty members"]})]})}e.s(["default",()=>l])}]);