(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,69673,e=>{"use strict";var t=e.i(43476),s=e.i(71645),l=e.i(46696);function a(){let[e,a]=(0,s.useState)("none"),[r,i]=(0,s.useState)(0),[n,o]=(0,s.useState)(""),[d,c]=(0,s.useState)([]),[x,h]=(0,s.useState)([]),[m,u]=(0,s.useState)(!1),b=["Level 1 (4th-6th)","Level 2 (7th-8th)","Level 3 (9th-10th)"],j=async e=>{u(!0),i(e+1),o("Today's Active Quiz"),a("questions");try{let t=await fetch(`/api/admin/quiz/current?level=${e+1}`),s=await t.json();t.ok?c(s.questions):l.toast.error("Failed to load questions")}catch(e){l.toast.error("Error connecting to server")}finally{u(!1)}},f=async e=>{u(!0),i(e+1),a("history");try{let t=await fetch(`/api/admin/quiz/history?level=${e+1}`),s=await t.json();t.ok?h(s.history):l.toast.error("Failed to load history")}catch(e){l.toast.error("Error connecting to server")}finally{u(!1)}},p=async e=>{u(!0),o(e),a("questions");try{let t=await fetch(`/api/admin/quiz/history?level=${r}&date=${e}`),s=await t.json();t.ok?c(s.questions):l.toast.error("Failed to load past quiz")}catch(e){l.toast.error("Error connecting to server")}finally{u(!1)}},g=()=>{a("none"),c([]),h([])};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-slate-900",children:"Quiz Management"}),(0,t.jsx)("button",{className:"px-5 py-2.5 bg-blue-600 text-white font-bold rounded-xl shadow-lg shadow-blue-200 hover:bg-blue-700 transition-all",children:"âœ¨ Generate New Quiz (AI)"})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:b.map((e,s)=>(0,t.jsxs)("div",{className:"bg-white border border-slate-200 rounded-2xl p-6 shadow-sm hover:shadow-md transition-shadow",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-slate-800",children:e}),(0,t.jsx)("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded text-xs font-bold",children:"Today's Quiz Active"})]}),(0,t.jsx)("p",{className:"text-slate-500 text-sm mb-6",children:"Topic: General Science"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Total Questions"}),(0,t.jsx)("span",{className:"font-bold",children:"25"})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Participants"}),(0,t.jsx)("span",{className:"font-bold",children:"--"})]})]}),(0,t.jsxs)("div",{className:"mt-6 pt-4 border-t border-slate-100 flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>j(s),className:"flex-1 py-2 text-blue-600 font-bold bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors text-sm",children:"View Questions"}),(0,t.jsx)("button",{onClick:()=>f(s),className:"flex-1 py-2 text-slate-600 font-bold bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors text-sm",children:"History"})]})]},s))}),(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-100 rounded-xl p-6 flex items-center gap-4",children:[(0,t.jsx)("div",{className:"text-3xl",children:"ðŸ¤–"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-bold text-blue-900",children:"AI Auto-Scheduler Active"}),(0,t.jsx)("p",{className:"text-blue-700 text-sm",children:"Next batch of quizzes will be generated automatically at 00:00 AM."})]})]}),"questions"===e&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-3xl max-h-[90vh] shadow-2xl overflow-hidden flex flex-col animate-in fade-in zoom-in duration-200",children:[(0,t.jsxs)("div",{className:"bg-slate-50 px-6 py-4 border-b border-slate-200 flex justify-between items-center shrink-0",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-bold text-xl text-slate-900",children:"Quiz Content"}),(0,t.jsxs)("p",{className:"text-sm text-slate-500 font-medium",children:[b[r-1]," â€¢ ",n]})]}),(0,t.jsx)("button",{onClick:g,className:"text-slate-400 hover:text-slate-600 hover:bg-slate-200 p-2 rounded-lg transition-colors",children:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsx)("div",{className:"overflow-y-auto p-6 space-y-6",children:m?(0,t.jsx)("div",{className:"py-20 text-center text-slate-500 animate-pulse",children:"Loading questions..."}):0===d.length?(0,t.jsx)("div",{className:"py-20 text-center text-slate-500 bg-slate-50 rounded-xl border border-dashed border-slate-300",children:"No questions found for this quiz."}):d.map((e,s)=>(0,t.jsxs)("div",{className:"bg-white border border-slate-200 rounded-xl p-5 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex gap-3 mb-3",children:[(0,t.jsx)("span",{className:"bg-blue-100 text-blue-700 w-8 h-8 flex items-center justify-center rounded-lg font-bold shrink-0 text-sm",children:s+1}),(0,t.jsx)("h4",{className:"font-bold text-slate-800 text-lg leading-tight pt-0.5",children:e.text})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 pl-11",children:e.options.map((s,l)=>(0,t.jsxs)("div",{className:`px-4 py-3 rounded-lg text-sm font-medium border transition-colors flex items-center justify-between
                                                        ${l===e.answerIndex?"bg-green-50 border-green-200 text-green-800":"bg-slate-50 border-slate-100 text-slate-600"}`,children:[s,l===e.answerIndex&&(0,t.jsx)("span",{className:"text-green-600",children:"âœ“"})]},l))}),(0,t.jsxs)("div",{className:"pl-11 mt-2 text-xs text-slate-400 font-medium uppercase tracking-wide",children:["Category: ",e.category]})]},e._id))})]})}),"history"===e&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-lg max-h-[80vh] shadow-2xl overflow-hidden flex flex-col animate-in fade-in zoom-in duration-200",children:[(0,t.jsxs)("div",{className:"bg-slate-50 px-6 py-4 border-b border-slate-200 flex justify-between items-center shrink-0",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-bold text-xl text-slate-900",children:"Quiz History"}),(0,t.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:b[r-1]})]}),(0,t.jsx)("button",{onClick:g,className:"text-slate-400 hover:text-slate-600 hover:bg-slate-200 p-2 rounded-lg transition-colors",children:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsx)("div",{className:"overflow-y-auto p-4",children:m?(0,t.jsx)("div",{className:"py-12 text-center text-slate-500 animate-pulse",children:"Loading history..."}):0===x.length?(0,t.jsx)("div",{className:"py-12 text-center text-slate-500 bg-slate-50 rounded-xl border border-dashed border-slate-300",children:"No history available."}):(0,t.jsx)("div",{className:"space-y-2",children:x.map(e=>(0,t.jsxs)("button",{onClick:()=>p(e._id),className:"w-full flex items-center justify-between p-4 bg-white border border-slate-200 rounded-xl hover:bg-blue-50 hover:border-blue-200 transition-all group text-left",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center font-bold",children:"ðŸ“…"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-bold text-slate-900 group-hover:text-blue-700 transition-colors",children:e._id}),(0,t.jsxs)("div",{className:"text-xs text-slate-500 font-medium",children:[e.count," Questions Generated"]})]})]}),(0,t.jsx)("span",{className:"text-slate-300 group-hover:text-blue-500 transition-colors",children:"â†’"})]},e._id))})})]})})]})}e.s(["default",()=>a])}]);